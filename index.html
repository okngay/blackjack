<!DOCTYPE HTML>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2016 by okngay (http://jsbin.com/heyulo/30/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<title>Blackjack Game</title>
      <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>

  <link href="https://cdn.bootcss.com/animate.css/3.5.0/animate.css" rel="stylesheet">
  
    <script src="https://cdn.bootcss.com/SoundJS/0.6.0/soundjs.min.js"></script>
  <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
  
<style id="jsbin-css">

/* Reset */
html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {

	margin:0;

	padding:0;

	border:0;

	font-size:100%;

	vertical-align:baseline;
  color: white;
 text-shadow: 1px 1px 2px black, 0 0 25px blue, 0 0 5px darkblue;

}

a{
	text-decoration: none;
	   color: yellow;
  text-shadow: 1px 1px 2px red, 0 0 25px yellow, 0 0 5px white;
  
}


body{
 
	font-family: Arial, Helvetica, sans-serif;
	color: red;
	font-size: 21px;
	line-height: 30px;
background-color: 	blue;
background-image: url("https://upload.wikimedia.org/wikipedia/commons/d/df/Fraxinus_excelsior_wood_ray_section_beentree.jpg");
  
  
}



.page{
	
text-align: center;
background-color: 	black;
  
background-image: url("https://upload.wikimedia.org/wikipedia/commons/d/df/Fraxinus_excelsior_wood_ray_section_beentree.jpg");
  
}

.dealer-cards .card, .player-cards .card {
	margin-left: 5px;
}

.dealer-cards .card:first-child, .player-cards .card:first-child{
	margin-left: 0;
}

 .new-cards .card:first-child{
	margin-left: 5px;
}

.dealer-cards, .player-cards{
	padding-top: 50px;
	width: 164px;
	margin: 0 auto;
}

.dealer-total, .player-total{
	;
  
  font-size: 60px;
    color: yellow;
  text-shadow: 1px 2px 2px red, 0 0 25px yellow, 0 0 5px white;
  
}

 

.flipped{
	background-position: -158px -492px !important;
}



.card {
    background-image: url(http://i.imgur.com/sqH6PpO.jpg);
    float: left;
    height: 123px;
    width: 79px;
  box-shadow: 5px 7px 5px black;
}

.message{
	font-size: 40px;
	margin-top: 30px;
	height: 60px;
  
  color: yellow;
  text-shadow: 1px 1px 2px red, 0 0 25px yellow, 0 0 5px white;
}

.dealer-total{
	visibility: hidden;
}


/* Clubs */
.ace-of-clubs{
	background-position: 0 0;	
}

.two-of-clubs{
	background-position: -79px 0;	
}

.three-of-clubs{
	background-position: -158px 0;	
}

.four-of-clubs{
	background-position: -237px 0;	
}

.five-of-clubs{
	background-position: -316px 0;	
}

.six-of-clubs{
	background-position: -395px 0;	
}

.seven-of-clubs{
	background-position: -474px 0;	
}

.eight-of-clubs{
	background-position: -553px 0;	
}

.nine-of-clubs{
	background-position: -632px 0;	
}

.ten-of-clubs{
	background-position: -711px 0;	
}

.jack-of-clubs{
	background-position: -790px 0;	
}

.queen-of-clubs{
	background-position: -869px 0;	
}

.king-of-clubs{
	background-position: -948px 0;	
}




/* Spades */
.ace-of-spades{
	background-position: 0 -123px;	
}

.two-of-spades{
	background-position: -79px -123px;	
}

.three-of-spades{
	background-position: -158px -123px;	
}

.four-of-spades{
	background-position: -237px -123px;	
}

.five-of-spades{
	background-position: -316px -123px;	
}

.six-of-spades{
	background-position: -395px -123px;	
}

.seven-of-spades{
	background-position: -474px -123px;	
}

.eight-of-spades{
	background-position: -553px -123px;	
}

.nine-of-spades{
	background-position: -632px -123px;	
}

.ten-of-spades{
	background-position: -711px -123px;	
}

.jack-of-spades{
	background-position: -790px -123px;	
}

.queen-of-spades{
	background-position: -869px -123px;	
}

.king-of-spades{
	background-position: -948px -123px;	
}



/* Hearts */
.ace-of-hearts{
	background-position: 0 -246px;	
}

.two-of-hearts{
	background-position: -79px -246px;	
}

.three-of-hearts{
	background-position: -158px -246px;	
}

.four-of-hearts{
	background-position: -237px -246px;	
}

.five-of-hearts{
	background-position: -316px -246px;	
}

.six-of-hearts{
	background-position: -395px -246px;	
}

.seven-of-hearts{
	background-position: -474px -246px;	
}

.eight-of-hearts{
	background-position: -553px -246px;	
}

.nine-of-hearts{
	background-position: -632px -246px;	
}

.ten-of-hearts{
	background-position: -711px -246px;	
}

.jack-of-hearts{
	background-position: -790px -246px;	
}

.queen-of-hearts{
	background-position: -869px -246px;	
}

.king-of-hearts{
	background-position: -948px -246px;	
}


/* Diamonds */
.ace-of-diamonds{
	background-position: 0 -369px;	
}

.two-of-diamonds{
	background-position: -79px -369px;	
}

.three-of-diamonds{
	background-position: -158px -369px;	
}

.four-of-diamonds{
	background-position: -237px -369px;	
}

.five-of-diamonds{
	background-position: -316px -369px;	
}

.six-of-diamonds{
	background-position: -395px -369px;	
}

.seven-of-diamonds{
	background-position: -474px -369px;	
}

.eight-of-diamonds{
	background-position: -553px -369px;	
}

.nine-of-diamonds{
	background-position: -632px -369px;	
}

.ten-of-diamonds{
	background-position: -711px -369px;	
}

.jack-of-diamonds{
	background-position: -790px -369px;	
}

.queen-of-diamonds{
	background-position: -869px -369px;	
}

.king-of-diamonds{
	background-position: -948px -369px;	
}

.bet{
	width: 50px;
	margin: 0 auto;
	height: 40px;
}

.betting-area{
	
}

.betting-area #more{
	float: center;
	width: 50px;
}

.betting-area #less{
	float: center;
	width: 30px;
}

.money{
	
	font-size: 24px;
  color: white;
    text-shadow: 1px 1px 2px black, 0 0 25px blue, 0 0 5px darkblue;
}




</style>
</head>
<body onload="loadSound();" >

    <nav>
    <div class="nav-wrapper  purple darken-4  z-depth-4">
      <a href="https://output.jsbin.com/heyulo#" class="brand-logo center">♠♣♦♥ BlackJack! ♥♦♣♠</a>
      
    </div>
  </nav>
  
   
    
    <div class="page">
      
       <div class="row">
      <div class="col s12 center">  <nav>
         <div class="nav-wrapper blue  z-depth-3 ">
      <div id="message" class="message tooltipped" data-position="top" data-delay="50" data-tooltip="Kết quả ván bài"></div> 
          </div>
        
        </nav> </div>
         <br> 
      <div class="col s6">
         <div class="card-panel  teal darken-2  z-depth-3">
         <b>Máy</b>
      
        <div class="dealer-cards tooltipped" data-position="top" data-delay="50" data-tooltip="Lá bài của máy" onclick="Materialize.toast('Lá bài của máy', 1000)">
            <div class="card card1 animated bounceInLeft"></div>
            <div class="card flipped card2 animated bounceInLeft"></div>
            <div class="new-cards"></div>
          <br>
            <div id="dealerTotal" class="dealer-total"></div>
        </div>
              
      <br><br>
      <nav> <div class="nav-wrapper center red accent-3  tooltipped z-depth-3" data-position="bottom" data-delay="50" data-tooltip="Số tiền hiện có của bạn"  >
            <b>Tài Khoản: </b>		<span id="money" class="money" >500</span> <a> $</a>  
         </div>
          </nav>
         <br>  
        </div> 
      </div>
         
         
      <div class="col s6">
          <div class="card-panel  teal darken-2  z-depth-3">
        <b>Bạn</b>
        <div class="player-cards tooltipped"  data-position="top" data-delay="50" data-tooltip="Lá bài của bạn" onclick="Materialize.toast('Lá bài của bạn', 1000)">
            <div class="card card1"></div>
            <div class="card card2 "></div>
            <div class="new-cards"></div>
          <br><br>
            <div id="playerTotal" class="player-total"></div>
        </div>
        <br>
              <div class="buttons">
       	<div class="waves-effect waves-light btn-large green "  onclick="playSound();"  id="hit">Tiếp</div>
      	<div class="waves-effect waves-light btn-large red tooltipped " onclick="playSound();"  id="stand">Dừng</div>
       	</div>
      <br>
    	<div class="betting-area">
         <div class="btn pink tooltipped waves-effect waves-light z-depth-3" data-position="bottom" data-delay="50" data-tooltip="Tăng 100$ tiền cược" onclick="Materialize.toast('+100$ Tiền cược', 1000)" id="more">+</div> 
         <div class="btn purple tooltipped waves-effect waves-light z-depth-3" data-position="bottom" data-delay="50" data-tooltip="Giảm 100$ tiền cược" onclick="Materialize.toast('-100$ Tiền cược', 1000)" id="less">-</div>
     	  <div id="bet" class="btn yellow tooltipped waves-effect waves-light z-depth-3" data-position="bottom" data-delay="50" data-tooltip="Số tiền bạn cược" >0 </div> <a>$</a> 
    	</div>
       </div> 
           </div>
     </div>
     <br>
     </div>        
  
  
   <nav> <div class="nav-wrapper center blue tooltipped z-depth-3 " data-position="top" data-delay="50" data-tooltip="BlackJack VTC 1.0"  onclick="Materialize.toast('Bùi Khương Duy', 1000)">
            <b>VTC ACADEMY - (c) 2016 </b>
         </div>
      </nav>
 
<script id="jsbin-javascript">
function reset(){
	
	// Reset
	$(".dealer-cards").html("<div class='card card1 animated pulse'></div><div class='card card2 flipped'></div><div class='new-cards'></div><div class='clear'></div><div id='dealerTotal' class='dealer-total'></div>");
	
	$(".player-cards").html("<div class='card card1 animated pulse'></div><div class='card card2'></div><div class='new-cards'></div><div class='clear'></div><div id='playerTotal' class='player-total'></div>");
	
	var reloadGame = "<div class='waves-effect waves-light btn-large green' id='hit'>Rút bài</div><div class='waves-effect waves-light btn-large red' onclick='playSound();'  id='stand'>Dừng</div>";
	$(".buttons").html(reloadGame);
	
	$(".dealer-cards").css("width","");
	$(".player-cards").css("width","");

	$("#playerTotal").html('');
	$("#dealerTotal").html('');
	$("#message").html('');

}


function deal(){

	reset();
				
/// Store cards in array
	var cards = ["ace-of-clubs","two-of-clubs","three-of-clubs","four-of-clubs","five-of-clubs","six-of-clubs","seven-of-clubs","eight-of-clubs","nine-of-clubs","ten-of-clubs","jack-of-clubs","queen-of-clubs","king-of-clubs","ace-of-spades","two-of-spades","three-of-spades","four-of-spades","five-of-spades","six-of-spades","seven-of-spades","eight-of-spades","nine-of-spades","ten-of-spades","jack-of-spades","queen-of-spades","king-of-spades","ace-of-hearts","two-of-hearts","three-of-hearts","four-of-hearts","five-of-hearts","six-of-hearts","seven-of-hearts","eight-of-hearts","nine-of-hearts","ten-of-hearts","jack-of-hearts","queen-of-hearts","king-of-hearts","ace-of-diamonds","two-of-diamonds","three-of-diamonds","four-of-diamonds","five-of-diamonds","six-of-diamonds","seven-of-diamonds","eight-of-diamonds","nine-of-diamonds","ten-of-diamonds","jack-of-diamonds","queen-of-diamonds","king-of-diamonds"];
	
	/// Store correlating values in an array
	var values = [1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10,1,2,3,4,5,6,7,8,9,10,10,10,10];
	
	/// Zero out dealer total
	var dealerTotal = 0;
	$(".dealer-cards .card").each(function(){
		
		var num = Math.floor(Math.random()*cards.length);
		var cardClass = cards[num];
		
		$(this).addClass(cardClass);
		
		$(this).attr("data-value",values[num]);
		
		dealerTotal = parseInt(dealerTotal) + parseInt(values[num]);
		
		if(dealerTotal>21){
			$(".dealer-cards .card").each(function(){
				if($(this).attr("data-value")==11){
					dealerTotal = parseInt(dealerTotal) - 10;
					$(this).attr("data-value",1);
				}
			});
		}
		
		$("#dealerTotal").html(dealerTotal);
		
		cards.splice(num, 1);
		values.splice(num, 1);
	});
	
	/// Zero out player total
	var playerTotal = 0;
	$(".player-cards .card").each(function(){
		
		var num = Math.floor(Math.random()*cards.length);
		var cardClass = cards[num];
		
		$(this).addClass(cardClass);
		
		$(this).attr("data-value",values[num]);
		
		playerTotal = parseInt(playerTotal) + parseInt(values[num]);
		
		if(playerTotal>21){
			$(".player-cards .card").each(function(){
				if($(this).attr("data-value")==11){
					playerTotal = parseInt(playerTotal) - 10;
					$(this).attr("data-value",1);
				}
			});
		}
		
		$("#playerTotal").html(playerTotal);
		
		cards.splice(num, 1);
		values.splice(num, 1);
		
	});
	
	
	/// If player hits
	$("#hit").click(function(){
    playSound();
    $("#more").hide();
    $("#less").hide();
   
		var num = Math.floor(Math.random()*cards.length);
		var cardClass = cards[num];
		
		var newCard = "<div class='card animated flip " +  cardClass + "' data-value='" + values[num] + "'></div>";
		$(".player-cards .new-cards").append(newCard);
		
		playerTotal = parseInt(playerTotal) + parseInt(values[num]);
		
		if(playerTotal>21){
			$(".player-cards .card").each(function(){
				if($(this).attr("data-value")==11){
					playerTotal = parseInt(playerTotal) - 10;
					$(this).attr("data-value",1);
				}
			});
		}
		
		cards.splice(num, 1);
		values.splice(num, 1);
		
		$("#playerTotal").html(playerTotal);
		$(".player-cards").width($(".player-cards").width()+84);
		
		
		if(playerTotal>21){
      playLose();
			$("#message").html('Bạn Cháy!');
			var reloadGame = "<div class='waves-effect waves-light btn-large red red animated tada' id='deal'>Đặt</div>";
			$(".buttons").html(reloadGame);
			/// Pay up
			$("#bet").html('0');
      $("#more").show();
      $("#less").show();
      
			return false;
		}
		
				 
	});
	
	/// If player stands
	$("#stand").click(function(){
    
		$("#more").show();
    $("#less").show();
		$("#dealerTotal").css("visibility","visible");
		$(".card2").removeClass("flipped");
		
		//// Keep adding a card until over 17 or dealer busts
		var keepDealing = setInterval(function(){
								 
			var dealerTotal = $("#dealerTotal").html();
			var playerTotal = $("#playerTotal").html();
			
			/// If there are aces
			if(dealerTotal>21){
				$(".dealer-cards .card").each(function(){
					
					//// and check if still over 21 in the loop
					if($(this).attr("data-value")==11 && dealerTotal>21){
						dealerTotal = parseInt(dealerTotal) - 10;
						$(this).attr("data-value",1);
					}
				});
			}
			
			if(dealerTotal>21){
        playWin();
				$("#message").html('Máy Cháy! - Bạn Thắng');	
				var reloadGame = "<div class='waves-effect waves-light btn-large red red animated tada' id='deal'>Đặt</div>";
				$(".buttons").html(reloadGame);
				clearInterval(keepDealing);
				/// Pay up
				var bet = $("#bet").html();
				var money = $("#money").html();
				var winnings = bet * 2;
				$("#bet").html('0');
				$("#money").html(parseInt(winnings) + parseInt(money));
				return false;
			}
			
             			
			if(dealerTotal>=17){
				/// You Win
				if(playerTotal>dealerTotal){
				
          playWin();
					$("#message").html('Bạn thắng! ^^');
					
					/// Pay up
					var bet = $("#bet").html();
					var money = $("#money").html();
					var winnings = bet * 2;
					$("#bet").html('0');
					$("#money").html(parseInt(winnings) + parseInt(money));
				}
				
				/// You Lose
				if(playerTotal<dealerTotal){
				 	playLose();
					$("#message").html('Thua rồi!');
					/// Pay up
					var bet = $("#bet").html();
					var money = $("#money").html();
					$("#bet").html('0');
					$("#money").html(parseInt(money) - parseInt(bet));
				}
				if(playerTotal==dealerTotal){
					$("#message").html('Hòa! ');
					var bet = $("#bet").html();
					var money = $("#money").html();
					$("#money").html(parseInt(bet) + parseInt(money));
					$("#bet").html('0');
				}
        
      
        
        
        
        
        
        
        
        
				var reloadGame = "<div class='waves-effect waves-light btn-large red animated jello' id='deal'>Đặt</div>";
				$(".buttons").html(reloadGame);
				clearInterval(keepDealing);
				return false;
			}
			
			var num = Math.floor(Math.random()*cards.length);
			var cardClass = cards[num];
			
			var newCard = "<div class='card animated flip " +  cardClass + "' data-value='" + values[num] + "'></div>";
			$(".dealer-cards .new-cards").append(newCard);
			
			dealerTotal = parseInt(dealerTotal) + parseInt(values[num]);
			
			$("#dealerTotal").html(dealerTotal);
			$(".dealer-cards").width($(".dealer-cards").width()+84);
			
			
			cards.splice(num, 1);
			values.splice(num, 1);
			
			}, 300);
	});			
}

$(document).ready(function(){

	  deal();
	
	
	//// Bet
	$("#more").click(function(){
		 
    playSound2();
		var bet = 100;
		var currentBet = $("#bet").html();
		var money = $("#money").html();
		if(money==0) return false;
		if(currentBet){
			
			$("#bet").html(parseInt(currentBet) + bet);
      
			
			} else {
			
			$("#bet").html(bet);
            
			
		}
		
		$("#money").html(money-bet);
    
    
   
		
	});
	
	$("#less").click(function(){
    
		playSound2();
		var bet = -100;
		var currentBet = $("#bet").html();
		if(currentBet==0) return false;
		
		var money = $("#money").html();
		
		if(currentBet){
			
			$("#bet").html(parseInt(currentBet) + bet);
			
			} else {
			
			$("#bet").html(bet);
			
		}
		
		$("#money").html(money-bet);
		
	});


	
	setInterval(function(){
		$("#deal").unbind('click');
		$("#deal").click(function(){
      playSound2();
			/// location.reload(); 
     $("#more").hide();
    $("#less").hide();
      
			deal();
		});
 	}, 200);


});


var Rut = "Rut";
var Xu = "Xu";
var Win = "Win";
var Lose = "Lose";
      function loadSound () {
        createjs.Sound.registerSound("http://ok.id.ai/21/rut.wav", Rut);
        createjs.Sound.registerSound("http://ok.id.ai/21/xu.wav", Xu);
        createjs.Sound.registerSound("http://ok.id.ai/21/votay.ogg", Win);
        createjs.Sound.registerSound("http://ok.id.ai/21/ohh.ogg", Lose);
        
      }


     function playSound () {
        createjs.Sound.play(Rut);
      }
   function playSound2 () {
        createjs.Sound.play(Xu);
      }
function playWin () {
        createjs.Sound.play(Win);
      }
function playLose () {
        createjs.Sound.play(Lose);
      }


















</script>
</body>
</html> 